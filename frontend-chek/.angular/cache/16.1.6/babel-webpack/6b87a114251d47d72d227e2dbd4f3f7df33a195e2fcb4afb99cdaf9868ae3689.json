{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Claudio/Desktop/desafio-chek/frontend-chek/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nexport let ValidateRegisterComponent = /*#__PURE__*/(() => {\n  class ValidateRegisterComponent {\n    constructor(route, http, router) {\n      this.route = route;\n      this.http = http;\n      this.router = router;\n    }\n    // Función que se ejecuta al iniciar y obtiene el token\n    ngOnInit() {\n      this.route.queryParams.subscribe(params => {\n        const token = params['token'];\n        // Si el token existe se ejecuta la funcion verifyEmail y se le pasa el token como parametro\n        if (token) {\n          this.verifyEmail(token);\n        } else {\n          this.router.navigate(['/']);\n        }\n      });\n    }\n    // Función para verificar correo eléctronico luego de registrarse\n    verifyEmail(token) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          // Solicitud post que verifica el correo eléctronico de una cuenta\n          const response = yield _this.http.get(`http://18.117.159.180:3000/api/verify-email?token=${token}`).toPromise();\n        } catch (error) {\n          _this.router.navigate(['/']);\n        }\n      })();\n    }\n  }\n  ValidateRegisterComponent.ɵfac = function ValidateRegisterComponent_Factory(t) {\n    return new (t || ValidateRegisterComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i1.Router));\n  };\n  ValidateRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ValidateRegisterComponent,\n    selectors: [[\"app-validate-register\"]],\n    decls: 11,\n    vars: 0,\n    consts: [[1, \"container\"], [1, \"login-form\"], [1, \"tittle-container\"], [1, \"validate-register-title\"], [1, \"input-container\"], [\"routerLink\", \"/login\", 1, \"forgot-password-button\"]],\n    template: function ValidateRegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n        i0.ɵɵtext(4, \"Validaci\\u00F3n exitosa, gracias por crear su cuenta en Chek\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n        i0.ɵɵtext(7, \"Iniciar sesi\\u00F3n\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"footer\")(9, \"p\");\n        i0.ɵɵtext(10, \"\\u00A9 Desaf\\u00EDo T\\u00E9cnico Chek Agosto 2023 - Claudio Andr\\u00E9s Bascu\\u00F1\\u00E1n Valdivia\");\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i1.RouterLink],\n    styles: [\".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px;border-radius:8px;background-color:#fff;box-shadow:0 2px 4px #0000001a;max-width:400px;width:100%}.logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.logo-img[_ngcontent-%COMP%]{width:100px;height:auto}.validate-register-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#371d53;font-family:Arial,sans-serif;margin-bottom:20px;text-align:center}input[_ngcontent-%COMP%]{width:180px;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:4px;outline:none;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{border-color:#5a2e93}input[_ngcontent-%COMP%]::placeholder{color:#7a7a7a}input[_ngcontent-%COMP%]:focus::placeholder{color:#5a2e93}button[_ngcontent-%COMP%]{width:200px;padding:10px;margin-bottom:15px;margin-top:15px;background-color:#5a2e93;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;outline:none}button[routerLink][_ngcontent-%COMP%]{width:180;padding:10px;background-color:transparent;color:#5a2e93;border:1px solid #5a2e93;border-radius:4px;font-size:16px;cursor:pointer;outline:none}button[routerLink][_ngcontent-%COMP%]:hover{background-color:#5a2e93;color:#fff}\"]\n  });\n  return ValidateRegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}