{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Claudio/Desktop/pruebas_tecnicas/Chek/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nexport class ValidateRegisterComponent {\n  constructor(route, http, router) {\n    this.route = route;\n    this.http = http;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      const token = params['token'];\n      if (token) {\n        this.verifyEmail(token);\n      } else {\n        console.error('Token de verificación no proporcionado.');\n        this.router.navigate(['/']);\n      }\n    });\n  }\n  verifyEmail(token) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const response = yield _this.http.get(`http://localhost:3000/api/verify-email?token=${token}`).toPromise();\n        alert('¡Tu correo electrónico ha sido verificado correctamente!');\n        _this.router.navigate(['/login']);\n      } catch (error) {\n        console.error('Error al verificar el correo electrónico:', error);\n        alert('Error');\n        _this.router.navigate(['/']);\n      }\n    })();\n  }\n}\nValidateRegisterComponent.ɵfac = function ValidateRegisterComponent_Factory(t) {\n  return new (t || ValidateRegisterComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i1.Router));\n};\nValidateRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ValidateRegisterComponent,\n  selectors: [[\"app-validate-register\"]],\n  decls: 2,\n  vars: 0,\n  template: function ValidateRegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"Verifying your email...\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"names":["ValidateRegisterComponent","constructor","route","http","router","ngOnInit","queryParams","subscribe","params","token","verifyEmail","console","error","navigate","_this","_asyncToGenerator","response","get","toPromise","alert","i0","ɵɵdirectiveInject","i1","ActivatedRoute","i2","HttpClient","Router","selectors","decls","vars","template","ValidateRegisterComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\Claudio\\Desktop\\pruebas_tecnicas\\Chek\\src\\app\\validate-register\\validate-register.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-validate-register',\n  template: `<p>Verifying your email...</p>`,\n})\n\nexport class ValidateRegisterComponent implements OnInit {\n  constructor(private route: ActivatedRoute, private http: HttpClient, private router: Router) {}\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      const token = params['token'];\n\n      if (token) {\n        this.verifyEmail(token);\n      } else {\n        console.error('Token de verificación no proporcionado.');\n        this.router.navigate(['/']);\n      }\n    });\n  }\n\n  async verifyEmail(token: string) {\n    try {\n      const response = await this.http.get<any>(`http://localhost:3000/api/verify-email?token=${token}`).toPromise();\n      alert('¡Tu correo electrónico ha sido verificado correctamente!');\n      this.router.navigate(['/login']);\n    } catch (error) {\n      console.error('Error al verificar el correo electrónico:', error);\n      alert('Error');\n      this.router.navigate(['/']);\n    }\n  }\n}\n"],"mappings":";;;;AASA,OAAM,MAAOA,yBAAyB;EACpCC,YAAoBC,KAAqB,EAAUC,IAAgB,EAAUC,MAAc;IAAvE,KAAAF,KAAK,GAALA,KAAK;IAA0B,KAAAC,IAAI,GAAJA,IAAI;IAAsB,KAAAC,MAAM,GAANA,MAAM;EAAW;EAE9FC,QAAQA,CAAA;IACN,IAAI,CAACH,KAAK,CAACI,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;MACxC,MAAMC,KAAK,GAAGD,MAAM,CAAC,OAAO,CAAC;MAE7B,IAAIC,KAAK,EAAE;QACT,IAAI,CAACC,WAAW,CAACD,KAAK,CAAC;OACxB,MAAM;QACLE,OAAO,CAACC,KAAK,CAAC,yCAAyC,CAAC;QACxD,IAAI,CAACR,MAAM,CAACS,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;IAE/B,CAAC,CAAC;EACJ;EAEMH,WAAWA,CAACD,KAAa;IAAA,IAAAK,KAAA;IAAA,OAAAC,iBAAA;MAC7B,IAAI;QACF,MAAMC,QAAQ,SAASF,KAAI,CAACX,IAAI,CAACc,GAAG,CAAM,gDAAgDR,KAAK,EAAE,CAAC,CAACS,SAAS,EAAE;QAC9GC,KAAK,CAAC,0DAA0D,CAAC;QACjEL,KAAI,CAACV,MAAM,CAACS,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;OACjC,CAAC,OAAOD,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;QACjEO,KAAK,CAAC,OAAO,CAAC;QACdL,KAAI,CAACV,MAAM,CAACS,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;IAC5B;EACH;;AA1BWb,yBAAyB,C;mBAAzBA,yBAAyB,EAAAoB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,UAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAI,MAAA;AAAA;AAAzB1B,yBAAyB,C;QAAzBA,yBAAyB;EAAA2B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,mCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MAHzBZ,EAAA,CAAAc,cAAA,QAAG;MAAAd,EAAA,CAAAe,MAAA,8BAAuB;MAAAf,EAAA,CAAAgB,YAAA,EAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}